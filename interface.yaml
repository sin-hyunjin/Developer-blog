swagger: "2.0"
info:
  title: 신현진 블로그 만들기 API 설계서
  version: 1.0.0
paths:
  /api/v1/auth/sign-in:
    post:
      summary: 로그인
      description: 이메일과 비밀번호로 로그인합니다.
      parameters:
        - in: body
          name: body
          description: 로그인 요청 바디
          required: true
          schema:
            type: object
            properties:
              email:
                type: string
              password:
                type: string
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
              token:
                type: string
                example: jwt...
              expiredDate:
                type: number
                example: 123456789
        401:
          description: 로그인 실패
          schema:
            type: object
            properties:
              code:
                type: string
                example: SF
              msg:
                type: string
                example: 로그인 실패.
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.

  /api/v1/auth/sign-up:
    post:
      summary: 회원가입
      description: 이메일, 비밀번호, 닉네임, 전화번호, 주소로 회원가입합니다.
      parameters:
        - in: body
          name: body
          description: 회원가입 요청 바디
          required: true
          schema:
            type: object
            properties:
              email:
                type: string
              password:
                type: string
              nickname:
                type: string
              telNumber:
                type: string
              address:
                type: string
              addressDetail:
                type: string
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
        400:
          description: 잘못된 요청 또는 중복된 이메일
          schema:
            type: object
            properties:
              code:
                type: string
                example: EE
              msg:
                type: string
                example: 중복된 이메일.
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.

  /api/v1/board/top-3:
    get:
      summary: 주간 상위 3 게시물
      description: 주간 상위 3개의 게시물을 가져옵니다.
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
              top3List:
                type: array
                items:
                  $ref: "#/definitions/BoardListItem"
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.

  /api/v1/board/latest-list:
    get:
      summary: 최신 게시물 리스트
      description: 최신 게시물 목록을 가져옵니다.
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
              currentList:
                type: array
                items:
                  $ref: "#/definitions/BoardListItem"
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.

  /api/v1/search/popular-list:
    get:
      summary: 인기 검색어 리스트
      description: 인기 있는 검색어 목록을 가져옵니다.
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
              popularWordList:
                type: array
                items:
                  type: string
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.

  /api/v1/board/search-list/{searchWord}:
    get:
      parameters:
        - in: path
          name: searchWord
          required: true
          type: string
      summary: 검색 게시물 리스트
      description: 검색어를 기반으로 게시물 목록을 가져옵니다.
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
              searchList:
                type: array
                items:
                  $ref: "#/definitions/BoardListItem"
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.

  /api/v1/search/{searchWord}/relation-list:
    get:
      parameters:
        - in: path
          name: searchWord
          required: true
          type: string
      summary: 관련 검색어 리스트
      description: 게시물을 기반으로 관련 검색어 목록을 가져옵니다.
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
              latestList:
                type: array
                items:
                  $ref: "#/definitions/BoardListItem"
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.

  /api/v1/board:
    post:
      summary: 게시물 쓰기
      description: 새로운 게시물을 작성합니다.
      parameters:
        - in: body
          name: body
          description: 게시물 작성 요청 바디
          required: true
          schema:
            type: object
            properties:
              title:
                type: string
              content:
                type: string
              boardImageList:
                type: array
                items:
                  type: string
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
        400:
          description: 잘못된 요청 또는 존재하지 않는 게시물
          schema:
            type: object
            properties:
              code:
                type: string
                example: NB
              msg:
                type: string
                example: 존재하지 않는 게시물.
        403:
          description: 권한이 없음
          schema:
            type: object
            properties:
              code:
                type: string
                example: NP
              msg:
                type: string
                example: 권한이 없음.
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.

  /api/v1/board/{boardNumber}:
    get:
      parameters:
        - in: path
          name: boardNumber
          description: 게시물 번호
          required: true
          type: integer
      summary: 게시물 상세
      description: 특정 게시물의 상세 정보를 가져옵니다.
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
              relativeWordList:
                type: array
                items:
                  type: string
        400:
          description: 존재하지 않는 게시물
          schema:
            type: object
            properties:
              code:
                type: string
                example: NB
              msg:
                type: string
                example: 존재하지 않는 게시물.
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.
    patch:
      summary: 게시물 수정
      description: 특정 게시물을 수정합니다.
      parameters:
        - in: path
          name: boardNumber
          description: 게시물 번호
          required: true
          type: integer
        - in: body
          name: body
          description: 게시물 수정 요청 바디
          required: true
          schema:
            type: object
            properties:
              title:
                type: string
              content:
                type: string
              boardImageList:
                type: array
                items:
                  type: string
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
        400:
          description: 잘못된 요청 또는 존재하지 않는 게시물
          schema:
            type: object
            properties:
              code:
                type: string
                example: NB
              msg:
                type: string
                example: 존재하지 않는 게시물.
        403:
          description: 권한이 없음
          schema:
            type: object
            properties:
              code:
                type: string
                example: NP
              msg:
                type: string
                example: 권한이 없음.
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.
    delete:
      summary: 게시물 삭제
      description: 특정 게시물을 삭제합니다.
      parameters:
        - in: path
          name: boardNumber
          description: 게시물 번호
          required: true
          type: integer

      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
        400:
          description: 존재하지 않는 게시물 또는 존재하지 않는 유저
          schema:
            type: object
            properties:
              code:
                type: string
                example: NB
              msg:
                type: string
                example: 존재하지 않는 게시물.
        403:
          description: 권한이 없음
          schema:
            type: object
            properties:
              code:
                type: string
                example: NP
              msg:
                type: string
                example: 권한이 없음.
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.

  /api/v1/board/{boardNumber}/favorite:
    post:
      summary: 좋아요 기능
      description: 게시물에 좋아요를 합니다.
      parameters:
        - in: path
          name: boardNumber
          description: 게시물 번호
          required: true
          type: integer
        - in: body
          name: body
          description: 좋아요 요청 바디
          required: true
          schema:
            type: object
            properties:
              boardNumber:
                type: integer
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.

  /api/v1/board/{boardNumber}/favorite-list:
    get:
      summary: 좋아요 리스트
      description: 좋아요를 누른 게시물의 리스트를 가져옵니다.
      parameters:
        - in: path
          name: boardNumber
          description: 게시물 번호
          required: true
          type: integer
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
              favoriteList:
                type: array
                items:
                  $ref: "#/definitions/FavoriteListItem"
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.

  /api/v1/board/{boardNumber}/comment-list:
    get:
      summary: 댓글 리스트
      description: 게시물에 작성된 댓글의 리스트를 가져옵니다.
      parameters:
        - in: path
          name: boardNumber
          description: 게시물 번호
          required: true
          type: integer
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
              commentList:
                type: array
                items:
                  $ref: "#/definitions/CommentListItem"
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.

  /api/v1/board/{boardNumber}/comment:
    post:
      summary: 댓글 쓰기
      description: 게시물에 댓글을 작성합니다.
      parameters:
        - in: path
          name: boardNumber
          description: 게시물 번호
          required: true
          type: integer
        - in: query
          name: content
          description: 댓글 내용
          required: true
          type: string
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
        400:
          description: 존재하지 않는 게시물 또는 존재하지 않는 유저
          schema:
            type: object
            properties:
              code:
                type: string
                example: NB
              msg:
                type: string
                example: 존재하지 않는 게시물.
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.

  /api/v1/user/{email}:
    get:
      summary: 유저 정보
      description: 특정 유저의 정보를 가져옵니다.
      parameters:
        - in: path
          name: email
          description: 유저 이메일
          required: true
          type: string
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
              email:
                type: string
              nickname:
                type: string
              profileImage:
                type: string
        400:
          description: 존재하지 않는 유저
          schema:
            type: object
            properties:
              code:
                type: string
                example: NU
              msg:
                type: string
                example: 존재하지 않는 유저.
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.

  /api/v1/board/user-board-list/{email}:
    get:
      summary: 해당 유저 정보 게시물 불러오기
      description: 특정 유저가 작성한 게시물을 가져옵니다.
      parameters:
        - in: path
          name: email
          description: 유저 이메일
          required: true
          type: string
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
              BoardList:
                type: array
                items:
                  $ref: "#/definitions/BoardListItem"
        400:
          description: 존재하지 않는 유저
          schema:
            type: object
            properties:
              code:
                type: string
                example: NU
              msg:
                type: string
                example: 존재하지 않는 유저.
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.

  /api/v1/user/nickname:
    patch:
      summary: 닉네임 수정
      description: 특정 유저의 닉네임을 수정합니다.
      parameters:
        - in: body
          name: body
          description: 닉네임 수정 요청 바디
          required: true
          schema:
            type: object
            properties:
              nickname:
                type: string
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
        400:
          description: 존재하지 않는 유저
          schema:
            type: object
            properties:
              code:
                type: string
                example: NU
              msg:
                type: string
                example: 존재하지 않는 유저.
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.

  /api/v1/user/profile-image:
    patch:
      summary: 프로필 이미지 수정
      description: 특정 유저의 프로필 이미지를 수정합니다.
      parameters:
        - in: body
          name: body
          description: 프로필 이미지 수정 요청 바디
          required: true
          schema:
            type: object
            properties:
              profileImg:
                type: string
      responses:
        200:
          description: 성공
          schema:
            type: object
            properties:
              code:
                type: string
                example: SU
              msg:
                type: string
                example: 성공
        400:
          description: 존재하지 않는 유저
          schema:
            type: object
            properties:
              code:
                type: string
                example: NU
              msg:
                type: string
                example: 존재하지 않는 유저.
        500:
          description: 데이터베이스 오류
          schema:
            type: object
            properties:
              code:
                type: string
                example: DE
              msg:
                type: string
                example: 데이터베이스 오류.

definitions:
  FavoriteListItem:
    type: object
    properties:
      email:
        type: string
      nickname:
        type: string
      profileImage:
        type: string
  CommentListItem:
    type: object
    properties:
      email:
        type: string
      nickname:
        type: string
      wirteDatetime:
        type: string
      content:
        type: string
  BoardListItem:
    type: object
    properties:
      boardNumber:
        type: integer
        description: 게시물 번호
        example: 1
      title:
        type: string
        description: 제목
        example: 오늘 점심 뭐먹지 맛있는 거 먹고 싶은데 추천 부탁 오늘 점심 뭐먹지 맛있는 거 먹고 싶은데
      content:
        type: string
        description: 내용
        example: 오늘 점심을 뭐먹을 지 너무 고민이 되는 데 뭐 먹을까? 나 점심때 오늘 점심을 뭐먹을 지 너무 고민이 되는 데 뭐 먹을까? 오늘 점심을 뭐먹을 지 너무 고민이 되는 오늘 점심을 뭐먹을 지 너무 고민이 되는 데 뭐 먹을까? 나 점심때 ...
      boardTitleImage:
        type: string
        description: 게시물 이미지
        example: null
      favoriteCount:
        type: integer
        description: 좋아요 수
        example: 0
      commentCount:
        type: integer
        description: 댓글 수
        example: 0
      viewCount:
        type: integer
        description: 조회 수
        example: 0
      writeDatetime:
        type: string
        description: 작성 날짜 및 시간
        example: "2023.08.18. 00:54:27"
      writerNickname:
        type: string
        description: 작성자 닉네임
        example: 안녕하세요 저는 신현진 입니다.
      writerProfileImage:
        type: string
        description: 작성자 프로필 이미지
        example: null
